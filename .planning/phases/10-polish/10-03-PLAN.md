---
phase: 10-polish
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - app/globals.css
  - app/components/StartMenu.tsx
autonomous: true

must_haves:
  truths:
    - "Start menu slides up smoothly when opened"
    - "Program submenus slide out smoothly"
    - "Animations feel responsive (<200ms)"
  artifacts:
    - path: "app/globals.css"
      provides: "Start menu animation keyframes"
      min_lines: 20
      contains: "@keyframes startMenuSlideUp"
    - path: "app/components/StartMenu.tsx"
      provides: "Animation class application"
      min_lines: 100
  key_links:
    - from: "app/components/StartMenu.tsx"
      to: "app/globals.css"
      via: "CSS animation classes"
      pattern: "start-menu-slide-up|submenu-slide-out"
---

<objective>
Add smooth slide-up and slide-out animations to Start menu and submenus.

Purpose: Enhance Start menu UX with authentic Windows 98 animations
Output: Animated Start menu with smooth transitions
</objective>

<execution_context>
@/Users/lucas/.config/opencode/get-shit-done/workflows/execute-plan.md
@/Users/lucas/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/10-polish/10-CONTEXT.md
@.planning/phases/10-polish/10-RESEARCH.md
@app/globals.css
@app/components/StartMenu.tsx
</context>

<tasks>

<task type="auto">
  <name>Add Start menu animation keyframes to CSS</name>
  <files>app/globals.css</files>
  <action>
Add Start menu animations after the window animations section (after line 242):

1. **Start menu slide-up animation**:
```css
/* Start Menu Animations */
@keyframes startMenuSlideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.start-menu-slide-up {
  animation: startMenuSlideUp 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: bottom left;
}
```

2. **Submenu slide-out animation**:
```css
@keyframes submenuSlideOut {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.submenu-slide-out {
  animation: submenuSlideOut 0.1s ease-out;
}
```

**Timing rationale**:
- Main menu: 150ms (smooth but not slow)
- Submenus: 100ms (faster, more responsive)
- No animation on close (instant, like Windows 98)
  </action>
  <verify>
1. Run: `npm run build`
2. Check build succeeds with no CSS errors
3. Visually inspect globals.css to confirm animations added
  </verify>
  <done>
CSS contains startMenuSlideUp and submenuSlideOut keyframes with proper timing curves. Animation classes defined for easy application.
  </done>
</task>

<task type="auto">
  <name>Apply animations to StartMenu component</name>
  <files>app/components/StartMenu.tsx</files>
  <action>
Update StartMenu component to apply animation classes:

1. **Add animation class to main Start menu container**:
Find the main menu div (likely has "start-menu" class) and add:
```tsx
<div 
  className={`start-menu start-menu-slide-up ${isOpen ? 'visible' : 'hidden'}`}
>
```

2. **Add animation class to submenu containers**:
If submenus exist (Programs submenu), add:
```tsx
<div className="submenu submenu-slide-out">
  {/* submenu items */}
</div>
```

3. **Ensure animation triggers on show**:
The animation should trigger when `isOpen` becomes true. If using conditional rendering (`{isOpen && <div>}`), ensure the element is mounted with the animation class already applied.

4. **Remove animation class on hide** (optional):
For instant close (no animation), simply unmount or set `display: none` without transition.

5. **Handle submenu hover delays** (if applicable):
If submenus appear on hover, add a small delay (100ms) before showing to prevent accidental triggers.

**Note**: If StartMenu doesn't currently have submenus, focus only on main menu animation. Submenu animation can be added when/if Programs submenu is implemented.
  </action>
  <verify>
1. Run: `npm run dev`
2. Open http://localhost:3000
3. Click Start button multiple times:
   - Menu should slide up from bottom-left when opening
   - Menu should disappear instantly when closing (no animation)
4. If submenus exist, hover over Programs:
   - Submenu should slide out from left when appearing
5. Check for smooth 60fps animation (no jank)
6. Verify animation timing feels responsive
  </verify>
  <done>
StartMenu component applies animation classes correctly. Main menu slides up smoothly in 150ms. Submenus (if present) slide out in 100ms. Close is instant. No animation conflicts.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Animated Start menu with slide-up and slide-out effects</what-built>
  <how-to-verify>
1. Start dev server: `npm run dev`
2. Open http://localhost:3000
3. Test Start menu animations:
   - **Click Start button**: Menu should smoothly slide up from bottom-left (150ms)
   - **Click Start button again**: Menu should close instantly (no animation)
   - **Rapid clicks**: Should handle rapid open/close without animation conflicts
   - If Programs submenu exists:
     - **Hover over Programs**: Submenu should slide out from left (100ms)
     - **Move mouse away**: Submenu should disappear instantly
4. Expected behavior:
   - Smooth, responsive animations
   - No jank or stuttering
   - Feels natural and authentic to Windows 98
   - Opening animation visible and pleasant
   - Closing is instant (not distracting)
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
- [ ] CSS animations compile without errors
- [ ] StartMenu component applies animation classes
- [ ] Main menu slides up in 150ms
- [ ] Submenus (if present) slide out in 100ms
- [ ] Close is instant (no exit animation)
- [ ] No animation conflicts when opening/closing rapidly
- [ ] 60fps performance maintained
</verification>

<success_criteria>
- Start menu has smooth slide-up animation when opening
- Submenus have smooth slide-out animation when appearing
- Close is instant (authentic Windows 98 behavior)
- Animation timing feels responsive and natural
- No console errors or TypeScript errors
- User verification confirms polished feel
</success_criteria>

<output>
After completion, create `.planning/phases/10-polish/10-03-SUMMARY.md`
</output>
